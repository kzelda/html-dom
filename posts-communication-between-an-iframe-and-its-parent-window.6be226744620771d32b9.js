(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4HIF":function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),s=a.n(t),o=a("mcK/"),i=a("Ov9x"),m=a("2G++");n.default=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{content:"\n## Send data from an iframe to its parent window\n\n~~~ javascript\n// Called from the iframe\nwindow.parent.postMessage(message, '*');\n~~~\n\nWhere `message` is a string. If you want to send multiple data, you can encode in JSON:\n\n~~~ javascript\n// Called from the iframe\nconst message = JSON.stringify({\n    message: 'Hello from iframe',\n    date: Date.now(),\n});\nwindow.parent.postMessage(message, '*');\n~~~\n\n## Send data from a page to its child iframe\n\n~~~ javascript\n// Called from the page\nframeEle.contentWindow.postMessage(message, '*');\n~~~\n\nWhere `frameEle` represents the iframe element.\n\n## Receive the sent data\n\nIn the iframe or main page, you can listen on the `message` event to receive the sent data:\n\n~~~ javascript\nwindow.addEventListener('message', function(e) {\n    // Get the sent data\n    const data = e.data;\n    \n    // If you encode the message in JSON before sending them, \n    // then decode here\n    // const decoded = JSON.parse(data);\n});\n~~~\n\n> ## Tip\n>\n> If you send or receive message from different iframes, you can include a parameter to indicate where the message comes from.\n>\n> ~~~ javascript\n> // From a child iframe\n> const message = JSON.stringify({\n>   channel: 'FROM_FRAME_A',\n>   ...\n});\n> window.parent.postMessage(message, '*');\n> ~~~\n>\n> Then in the main page, you can distinguish the messages by looking at the parameter:\n>\n> ~~~ javascript\n> window.addEventListener('message', function(e) {\n>   const data = JSON.parse(e.data);\n>   // Where does the message come from\n>   const channel = data.channel;\n> });\n> ~~~\n\nHere is an example demonstrates how to send a simple message between\na [page](https://github.com/phuoc-ng/html-dom/blob/master/demo/communication-between-an-iframe-and-its-parent-window/index.html)\nand [a child iframe](https://github.com/phuoc-ng/html-dom/blob/master/demo/communication-between-an-iframe-and-its-parent-window/iframe.html):\n"}),s.a.createElement(o.a,{src:"/demo/communication-between-an-iframe-and-its-parent-window/index.html"}),s.a.createElement(m.a,{slugs:["attach-or-detach-an-event-handler"]}))}}}]);
//# sourceMappingURL=posts-communication-between-an-iframe-and-its-parent-window.6be226744620771d32b9.js.map